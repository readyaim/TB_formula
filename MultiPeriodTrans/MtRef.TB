//------------------------------------------------------------------------
// 简称: MtRef
// 名称: 
// 类别: 用户函数
// 类型: 用户函数
// 输出: 数值型
//------------------------------------------------------------------------

//------------------------------------------------------------------------
// 简称: MtRef
// 名称: 跨周期求回溯周期
// 类别: 用户函数
// 类型: 用户函数
// 输出: 数值型
//------------------------------------------------------------------------


Params

        NumericSeries mtBarCnt(0);        // MtBar函数返回的mtBarCnt值
        Numeric Length(10);              // 目标周期下的回溯周期
Vars
        Numeric i;
        Numeric j(0); // 与目标周期下的回溯周期 等值的小周期回溯周期值
Begin

        For i = 1 to Length
        {
                If (mtBarCnt[j] <> InvalidNumeric)
                {

                        j = j + mtBarCnt[j];
                }
                else Break;
        }
        Return j;
End

//------------------------------------------------------------------------
// 编译版本	GS2015.12.25
// 用户版本	2016/06/28 17:12:25
// 版权所有	readyaiming
// 更改声明	TradeBlazer Software保留对TradeBlazer平台
//			每一版本的TradeBlazer公式修改和重写的权利
//------------------------------------------------------------------------